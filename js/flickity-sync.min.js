/*!
 * Flickity sync v2.0.0
 * enable sync for Flickity
 */
!function(window,factory){"function"==typeof define&&define.amd?define(["flickity/js/index","fizzy-ui-utils/utils"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("flickity"),require("fizzy-ui-utils")):window.Flickity=factory(window.Flickity,window.fizzyUIUtils)}(window,(function factory(Flickity,utils){"use strict";return Flickity.createMethods.push("_createSync"),Flickity.prototype._createSync=function(){this.syncers={};var syncOption=this.options.sync;if(this.on("destroy",this.unsyncAll),syncOption){var _this=this;setTimeout((function initSyncCompanion(){_this.sync(syncOption)}))}},Flickity.prototype.sync=function(elem){elem=utils.getQueryElement(elem);var companion=Flickity.data(elem);companion&&(this._syncCompanion(companion),companion._syncCompanion(this))},Flickity.prototype._syncCompanion=function(companion){var _this=this;function syncListener(){var index=_this.selectedIndex;companion.selectedIndex!=index&&companion.select(index)}this.on("select",syncListener),this.syncers[companion.guid]={flickity:companion,listener:syncListener}},Flickity.prototype.unsync=function(elem){elem=utils.getQueryElement(elem);var companion=Flickity.data(elem);this._unsync(companion)},Flickity.prototype._unsync=function(companion){companion&&(this._unsyncCompanion(companion),companion._unsyncCompanion(this))},Flickity.prototype._unsyncCompanion=function(companion){var id=companion.guid,syncer=this.syncers[id];this.off("select",syncer.listener),delete this.syncers[id]},Flickity.prototype.unsyncAll=function(){for(var id in this.syncers){var syncer=this.syncers[id];this._unsync(syncer.flickity)}},Flickity}));